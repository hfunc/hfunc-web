import{a as r}from"./index.59ead915.js";import{K as e}from"./vendor.a8dd9754.js";function s(r){if("object"!=typeof r||!r)return r;if(Array.isArray(r))return r.map((r=>s(r)));const e={};for(let t in r){e[t.replace(/_([a-z])/g,((r,e)=>e.toUpperCase()))]=s(r[t])}return e}function t(r){if(!(r instanceof Object&&r))return r;if(Array.isArray(r))return r.map((r=>t(r)));const e={};for(let s in r){e[s.replace(/([A-Z])/g,((r,e)=>`_${e.toLowerCase()}`))]=t(r[s])}return e}function a(s){return s.timeout=1e3,new Promise(((t,a)=>{r.request(s).then((r=>{if(!r.data.code)return s.success&&e({type:"success",message:r.data.msg,duration:2e3}),void t(r.data.data);s.error&&e({type:"error",message:r.data.msg,duration:2e3}),a(r.data.msg)})).catch((r=>{s.error&&e({type:"error",message:r,duration:2e3}),a(r)}))}))}var o,u;r.interceptors.request.use((r=>(r.params&&(r.params=t(r.params)),r.data&&(r.data=t(r.data)),r))),r.interceptors.response.use((r=>(r.data&&(r.data=s(r.data)),r))),(u=o||(o={})).put=function(r,e,s){return a({url:r,method:"put",data:e,error:!!(null==s?void 0:s.error)&&s.error,success:!!(null==s?void 0:s.success)&&s.success})},u.patch=function(r,e,s){return a({url:r,method:"patch",data:e,error:!!(null==s?void 0:s.error)&&s.error,success:!!(null==s?void 0:s.success)&&s.success})},u.post=function(r,e,s){return a({url:r,method:"post",data:e,error:!!(null==s?void 0:s.error)&&s.error,success:!!(null==s?void 0:s.success)&&s.success})},u.get=function(r,e,s){return a({url:r,method:"get",params:e,error:!!(null==s?void 0:s.error)&&s.error,success:!!(null==s?void 0:s.success)&&s.success})};var n=o;export{n as a};
